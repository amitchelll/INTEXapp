<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Participants Table Schema</title>
    <style>
      table {
        border-collapse: collapse;
        width: 50%;
        margin-top: 20px;
      }

      th,
      td {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }

      th {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <body>
    <form action="/viewData" method="GET">
      <h2>Participants Table Columns</h2>
      <label for="searchInput">Search:</label>
      <input
        type="text"
        id="searchInput"
        name="search"
        placeholder="Search by survey ID"
        onkeyup="searchTable()"
      />
      <table>
        <thead>
          <tr>
            <th>Participant_ID</th>
            <th>Age</th>
            <th>Gender</th>
            <th>Relationship_status</th>
            <th>Occupation_status</th>
            <th>organization</th>
            <th>Location</th>
            <th>Social_media</th>
            <th>facebook</th>
            <th>twitter</th>
            <th>instagram</th>
            <th>youtube</th>
            <th>discord</th>
            <th>reddit</th>
            <th>pinterest</th>
            <th>tiktok</th>
            <th>snapchat</th>
            <th>Avg_time_spent</th>
            <th>withoutpurpose</th>
            <th>distractedbusy</th>
            <th>restless</th>
            <th>distracted</th>
            <th>worries</th>
            <th>concentrate</th>
            <th>oftencompare</th>
            <th>feelcompare</th>
            <th>validation</th>
            <th>depressed</th>
            <th>dailyactivity</th>
            <th>sleep</th>
          </tr>
        </thead>
        <tbody style="font-family: Arial; font-size: 9pt">
          <% for (let iCount = 0; iCount < myparticipants.length; iCount++) { %>
          <tr>
            <td><%= myparticipants[iCount].participant_id %></td>
            <td><%= myparticipants[iCount].age %></td>
            <td><%= myparticipants[iCount].gender %></td>
            <td><%= myparticipants[iCount].relationship_status %></td>
            <td><%= myparticipants[iCount].occupation_status %></td>
            <td><%= myparticipants[iCount].organization %></td>
            <td><%= myparticipants[iCount].location %></td>
            <td><%= myparticipants[iCount].social_media %></td>
            <td><%= myparticipants[iCount].facebook %></td>
            <td><%= myparticipants[iCount].twitter %></td>
            <td><%= myparticipants[iCount].instagram %></td>
            <td><%= myparticipants[iCount].youtube %></td>
            <td><%= myparticipants[iCount].discord %></td>
            <td><%= myparticipants[iCount].reddit %></td>
            <td><%= myparticipants[iCount].pinterest %></td>
            <td><%= myparticipants[iCount].tiktok %></td>
            <td><%= myparticipants[iCount].snapchat %></td>
            <td><%= myparticipants[iCount].avg_time_spent %></td>
            <td><%= myparticipants[iCount].withoutpurpose %></td>
            <td><%= myparticipants[iCount].distractedbusy %></td>
            <td><%= myparticipants[iCount].restless %></td>
            <td><%= myparticipants[iCount].distracted %></td>
            <td><%= myparticipants[iCount].worries %></td>
            <td><%= myparticipants[iCount].concentrate %></td>
            <td><%= myparticipants[iCount].oftencompare %></td>
            <td><%= myparticipants[iCount].feelcompare %></td>
            <td><%= myparticipants[iCount].validation %></td>
            <td><%= myparticipants[iCount].depressed %></td>
            <td><%= myparticipants[iCount].dailyactivity %></td>
            <td><%= myparticipants[iCount].sleep %></td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </form>
    <script>
      function searchTable() {
        let input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("searchInput");
        filter = input.value.trim(); // Trim any whitespace

        table = document.getElementById("surveyTable");
        tr = table.getElementsByTagName("tr");

        for (i = 0; i < tr.length; i++) {
          td = tr[i].getElementsByTagName("td")[0]; // Change the index if your survey ID is in a different column
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.trim() === filter) {
              // Check for exact match
              tr[i].style.display = "";
            } else {
              tr[i].style.display = "none";
            }
          }
        }
      }
    </script>
  </body>
</html>
