<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Google fonts-->
    <link
      href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i"
      rel="stylesheet"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="/css/styles.css" rel="stylesheet" />
    <link href="/css/myStyles.css" rel="stylesheet" />
    <title>Participants Table Schema</title>
    <style>
      table {
        border-collapse: collapse;
        width: 50%;
        margin-top: 20px;
      }

      th,
      td {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }

      th {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <header>
    <h1 class="site-heading text-center text-faded d-none d-lg-block">
      <span class="site-heading-upper text-primary mb-3">City of Provo</span>
      <span class="site-heading-lower">Mental Health</span>
    </h1>
  </header>
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg navbar-dark py-lg-4" id="mainNav">
    <div class="container">
      <a class="navbar-brand text-uppercase fw-bold d-lg-none" href="index.ejs"
        >City of Provo</a
      >
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item px-lg-4">
            <a class="nav-link text-uppercase" href="/">Home</a>
          </li>
          <li class="nav-item px-lg-4">
            <a class="nav-link text-uppercase" href="surveyInput">Survey</a>
          </li>
          <li class="nav-item px-lg-4">
            <a class="nav-link text-uppercase" href="/resources">Resources</a>
          </li>
          <li class="nav-item px-lg-4">
            <a class="nav-link text-uppercase" href="/login">Login</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <body>
    <form action="/viewData" method="GET">
      <h2>Participants Table Columns</h2>
      <label for="searchInput">Search:</label>
      <input
        type="text"
        id="searchInput"
        name="search"
        placeholder="Search by survey ID"
        onkeyup="searchTable()"
      />
      <table id="surveyTable">
        <thead>
          <tr>
            <th>Participant_ID</th>
            <th>Age</th>
            <th>Gender</th>
            <th>Relationship_Status</th>
            <th>Occupation_Status</th>
            <th>Organization</th>
            <th>Location</th>
            <th>Social_Media</th>
            <th>Facebook</th>
            <th>Twitter</th>
            <th>Instagram</th>
            <th>Youtube</th>
            <th>Discord</th>
            <th>Reddit</th>
            <th>Pinterest</th>
            <th>TikTok</th>
            <th>Snapchat</th>
            <th>Avg_Time_Spent</th>
            <th>Without_Purpose</th>
            <th>Distracted_Busy</th>
            <th>Restless</th>
            <th>Easily_Distracted</th>
            <th>Worries</th>
            <th>Concentrate</th>
            <th>Often_Compare</th>
            <th>Feel_Compare</th>
            <th>Validation</th>
            <th>Depressed</th>
            <th>Daily_Activity</th>
            <th>Sleep</th>
          </tr>
        </thead>
        <tbody style="font-family: Arial; font-size: 9pt">
          <% for (let iCount = 0; iCount < myparticipants.length; iCount++) { %>
          <tr>
            <td><%= myparticipants[iCount].participant_id %></td>
            <td><%= myparticipants[iCount].age %></td>
            <td><%= myparticipants[iCount].gender %></td>
            <td><%= myparticipants[iCount].relationship_status %></td>
            <td><%= myparticipants[iCount].occupation_status %></td>
            <td><%= myparticipants[iCount].organization %></td>
            <td><%= myparticipants[iCount].location %></td>
            <td><%= myparticipants[iCount].social_media %></td>
            <td><%= myparticipants[iCount].facebook %></td>
            <td><%= myparticipants[iCount].twitter %></td>
            <td><%= myparticipants[iCount].instagram %></td>
            <td><%= myparticipants[iCount].youtube %></td>
            <td><%= myparticipants[iCount].discord %></td>
            <td><%= myparticipants[iCount].reddit %></td>
            <td><%= myparticipants[iCount].pinterest %></td>
            <td><%= myparticipants[iCount].tiktok %></td>
            <td><%= myparticipants[iCount].snapchat %></td>
            <td><%= myparticipants[iCount].avg_time_spent %></td>
            <td><%= myparticipants[iCount].withoutpurpose %></td>
            <td><%= myparticipants[iCount].distractedbusy %></td>
            <td><%= myparticipants[iCount].restless %></td>
            <td><%= myparticipants[iCount].distracted %></td>
            <td><%= myparticipants[iCount].worries %></td>
            <td><%= myparticipants[iCount].concentrate %></td>
            <td><%= myparticipants[iCount].oftencompare %></td>
            <td><%= myparticipants[iCount].feelcompare %></td>
            <td><%= myparticipants[iCount].validation %></td>
            <td><%= myparticipants[iCount].depressed %></td>
            <td><%= myparticipants[iCount].dailyactivity %></td>
            <td><%= myparticipants[iCount].sleep %></td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </form>
    <script>
      function searchTable() {
        let input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("searchInput");
        filter = input.value.trim(); // Trim any whitespace

        table = document.getElementById("surveyTable");
        tr = table.getElementsByTagName("tr");

        for (i = 0; i < tr.length; i++) {
          td = tr[i].getElementsByTagName("td")[0]; // Change the index if your survey ID is in a different column
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.trim() === filter) {
              // Check for exact match
              tr[i].style.display = "";
            } else {
              tr[i].style.display = "none";
            }
          }
        }
      }
    </script>
  </body>
</html>
